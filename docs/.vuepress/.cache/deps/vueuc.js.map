{
  "version": 3,
  "sources": ["../../../../node_modules/seemly/es/animation/next-frame-once.js", "../../../../node_modules/seemly/es/css/index.js", "../../../../node_modules/seemly/es/color/index.js", "../../../../node_modules/seemly/es/misc/index.js", "../../../../node_modules/vueuc/es/shared/v-node.js", "../../../../node_modules/vueuc/es/binder/src/utils.js", "../../../../node_modules/vueuc/es/binder/src/Binder.js", "../../../../node_modules/vueuc/es/binder/src/Target.js", "../../../../node_modules/vdirs/es/utils.js", "../../../../node_modules/vdirs/es/zindexable/z-index-manager.js", "../../../../node_modules/vdirs/es/zindexable/index.js", "../../../../node_modules/@css-render/vue3-ssr/esm/index.js", "../../../../node_modules/vueuc/es/shared/warn.js", "../../../../node_modules/css-render/esm/parse.js", "../../../../node_modules/css-render/esm/utils.js", "../../../../node_modules/css-render/esm/render.js", "../../../../node_modules/@emotion/hash/dist/hash.browser.esm.js", "../../../../node_modules/css-render/esm/mount.js", "../../../../node_modules/css-render/esm/c.js", "../../../../node_modules/css-render/esm/CssRender.js", "../../../../node_modules/vueuc/es/shared/cssr.js", "../../../../node_modules/vueuc/es/shared/finweck-tree.js", "../../../../node_modules/vueuc/es/shared/resolve-to.js", "../../../../node_modules/vueuc/es/lazy-teleport/src/index.js", "../../../../node_modules/vueuc/es/binder/src/get-placement-style.js", "../../../../node_modules/vueuc/es/binder/src/Follower.js", "../../../../node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js", "../../../../node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js", "../../../../node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js", "../../../../node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js", "../../../../node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js", "../../../../node_modules/@juggle/resize-observer/lib/utils/freeze.js", "../../../../node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js", "../../../../node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js", "../../../../node_modules/@juggle/resize-observer/lib/utils/element.js", "../../../../node_modules/@juggle/resize-observer/lib/utils/global.js", "../../../../node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js", "../../../../node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js", "../../../../node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js", "../../../../node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js", "../../../../node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js", "../../../../node_modules/@juggle/resize-observer/lib/utils/process.js", "../../../../node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js", "../../../../node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js", "../../../../node_modules/@juggle/resize-observer/lib/utils/scheduler.js", "../../../../node_modules/@juggle/resize-observer/lib/ResizeObservation.js", "../../../../node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js", "../../../../node_modules/@juggle/resize-observer/lib/ResizeObserverController.js", "../../../../node_modules/@juggle/resize-observer/lib/ResizeObserver.js", "../../../../node_modules/vueuc/es/resize-observer/src/delegate.js", "../../../../node_modules/vueuc/es/resize-observer/src/VResizeObserver.js", "../../../../node_modules/vueuc/es/virtual-list/src/config.js", "../../../../node_modules/vueuc/es/virtual-list/src/VirtualList.js", "../../../../node_modules/vueuc/es/x-scroll/src/index.js", "../../../../node_modules/vueuc/es/overflow/src/index.js", "../../../../node_modules/vueuc/es/focus-trap/src/utils.js", "../../../../node_modules/vueuc/es/focus-trap/src/index.js"],
  "sourcesContent": ["let onceCbs = [];\nconst paramsMap = new WeakMap();\nfunction flushOnceCallbacks() {\n    onceCbs.forEach((cb) => cb(...paramsMap.get(cb)));\n    onceCbs = [];\n}\nfunction beforeNextFrameOnce(cb, ...params) {\n    paramsMap.set(cb, params);\n    if (onceCbs.includes(cb))\n        return;\n    onceCbs.push(cb) === 1 && requestAnimationFrame(flushOnceCallbacks);\n}\nexport { beforeNextFrameOnce };\n", "export function depx(value) {\n    if (typeof value === 'string') {\n        if (value.endsWith('px')) {\n            return Number(value.slice(0, value.length - 2));\n        }\n        return Number(value);\n    }\n    return value;\n}\nfunction pxfy(value) {\n    if (value === undefined || value === null)\n        return undefined;\n    if (typeof value === 'number')\n        return `${value}px`;\n    if (value.endsWith('px'))\n        return value;\n    return `${value}px`;\n}\nexport { pxfy };\nfunction getMargin(value, position) {\n    const parts = value.trim().split(/\\s+/g);\n    const margin = {\n        top: parts[0]\n    };\n    switch (parts.length) {\n        case 1:\n            margin.right = parts[0];\n            margin.bottom = parts[0];\n            margin.left = parts[0];\n            break;\n        case 2:\n            margin.right = parts[1];\n            margin.left = parts[1];\n            margin.bottom = parts[0];\n            break;\n        case 3:\n            margin.right = parts[1];\n            margin.bottom = parts[2];\n            margin.left = parts[1];\n            break;\n        case 4:\n            margin.right = parts[1];\n            margin.bottom = parts[2];\n            margin.left = parts[3];\n            break;\n        default:\n            throw new Error('[seemly/getMargin]:' + value + ' is not a valid value.');\n    }\n    if (position === undefined)\n        return margin;\n    return margin[position];\n}\nfunction getGap(value, orient) {\n    const [rowGap, colGap] = value.split(' ');\n    if (!orient)\n        return {\n            row: rowGap,\n            col: colGap || rowGap\n        };\n    return orient === 'row' ? rowGap : colGap;\n}\nexport { getMargin, getMargin as getPadding, getGap };\nexport { parseResponsiveProp, parseResponsivePropValue } from './responsive';\n", "import colors from './colors';\nconst prefix = '^\\\\s*';\nconst suffix = '\\\\s*$';\nconst percent = '\\\\s*((\\\\.\\\\d+)|(\\\\d+(\\\\.\\\\d*)?))%\\\\s*'; // 4 offset\nconst float = '\\\\s*((\\\\.\\\\d+)|(\\\\d+(\\\\.\\\\d*)?))\\\\s*'; // 4 offset\nconst hex = '([0-9A-Fa-f])';\nconst dhex = '([0-9A-Fa-f]{2})';\nconst hslRegex = new RegExp(`${prefix}hsl\\\\s*\\\\(${float},${percent},${percent}\\\\)${suffix}`);\nconst hsvRegex = new RegExp(`${prefix}hsv\\\\s*\\\\(${float},${percent},${percent}\\\\)${suffix}`);\nconst hslaRegex = new RegExp(`${prefix}hsla\\\\s*\\\\(${float},${percent},${percent},${float}\\\\)${suffix}`);\nconst hsvaRegex = new RegExp(`${prefix}hsva\\\\s*\\\\(${float},${percent},${percent},${float}\\\\)${suffix}`);\nconst rgbRegex = new RegExp(`${prefix}rgb\\\\s*\\\\(${float},${float},${float}\\\\)${suffix}`);\nconst rgbaRegex = new RegExp(`${prefix}rgba\\\\s*\\\\(${float},${float},${float},${float}\\\\)${suffix}`);\nconst sHexRegex = new RegExp(`${prefix}#${hex}${hex}${hex}${suffix}`);\nconst hexRegex = new RegExp(`${prefix}#${dhex}${dhex}${dhex}${suffix}`);\nconst sHexaRegex = new RegExp(`${prefix}#${hex}${hex}${hex}${hex}${suffix}`);\nconst hexaRegex = new RegExp(`${prefix}#${dhex}${dhex}${dhex}${dhex}${suffix}`);\nfunction parseHex(value) {\n    return parseInt(value, 16);\n}\n/**\n * Convert color string to hsla array\n * @param color format like hsl(180, 100%, 100%), hsla(180, 100%, 100%, 1)\n * @returns\n */\nexport function hsla(color) {\n    try {\n        let i;\n        if ((i = hslaRegex.exec(color))) {\n            return [\n                roundDeg(i[1]),\n                roundPercent(i[5]),\n                roundPercent(i[9]),\n                roundAlpha(i[13])\n            ];\n        }\n        else if ((i = hslRegex.exec(color))) {\n            return [roundDeg(i[1]), roundPercent(i[5]), roundPercent(i[9]), 1];\n        }\n        throw new Error(`[seemly/hsla]: Invalid color value ${color}.`);\n    }\n    catch (e) {\n        throw e;\n    }\n}\n/**\n * Convert color string to hsva array\n * @param color format like hsv(180, 100%, 100%), hsva(180, 100%, 100%, 1)\n * @returns\n */\nexport function hsva(color) {\n    try {\n        let i;\n        if ((i = hsvaRegex.exec(color))) {\n            return [\n                roundDeg(i[1]),\n                roundPercent(i[5]),\n                roundPercent(i[9]),\n                roundAlpha(i[13])\n            ];\n        }\n        else if ((i = hsvRegex.exec(color))) {\n            return [roundDeg(i[1]), roundPercent(i[5]), roundPercent(i[9]), 1];\n        }\n        throw new Error(`[seemly/hsva]: Invalid color value ${color}.`);\n    }\n    catch (e) {\n        throw e;\n    }\n}\n/**\n * Convert color string to rgba array.\n * @param color format like #000[0], #000000[00], rgb(0, 0, 0), rgba(0, 0, 0, 0) and basic color keywords https://www.w3.org/TR/css-color-3/#html4 and transparent\n * @returns\n */\nexport function rgba(color) {\n    try {\n        let i;\n        if ((i = hexRegex.exec(color))) {\n            return [parseHex(i[1]), parseHex(i[2]), parseHex(i[3]), 1];\n        }\n        else if ((i = rgbRegex.exec(color))) {\n            return [roundChannel(i[1]), roundChannel(i[5]), roundChannel(i[9]), 1];\n        }\n        else if ((i = rgbaRegex.exec(color))) {\n            return [\n                roundChannel(i[1]),\n                roundChannel(i[5]),\n                roundChannel(i[9]),\n                roundAlpha(i[13])\n            ];\n        }\n        else if ((i = sHexRegex.exec(color))) {\n            return [\n                parseHex(i[1] + i[1]),\n                parseHex(i[2] + i[2]),\n                parseHex(i[3] + i[3]),\n                1\n            ];\n        }\n        else if ((i = hexaRegex.exec(color))) {\n            return [\n                parseHex(i[1]),\n                parseHex(i[2]),\n                parseHex(i[3]),\n                roundAlpha(parseHex(i[4]) / 255)\n            ];\n        }\n        else if ((i = sHexaRegex.exec(color))) {\n            return [\n                parseHex(i[1] + i[1]),\n                parseHex(i[2] + i[2]),\n                parseHex(i[3] + i[3]),\n                roundAlpha(parseHex(i[4] + i[4]) / 255)\n            ];\n        }\n        else if (color in colors) {\n            return rgba(colors[color]);\n        }\n        throw new Error(`[seemly/rgba]: Invalid color value ${color}.`);\n    }\n    catch (e) {\n        throw e;\n    }\n}\nfunction normalizeAlpha(alphaValue) {\n    return alphaValue > 1 ? 1 : alphaValue < 0 ? 0 : alphaValue;\n}\nfunction stringifyRgb(r, g, b) {\n    return `rgb(${roundChannel(r)}, ${roundChannel(g)}, ${roundChannel(b)})`;\n}\nfunction stringifyRgba(r, g, b, a) {\n    return `rgba(${roundChannel(r)}, ${roundChannel(g)}, ${roundChannel(b)}, ${normalizeAlpha(a)})`;\n}\nfunction compositeChannel(v1, a1, v2, a2, a) {\n    return roundChannel((v1 * a1 * (1 - a2) + v2 * a2) / a);\n}\nexport function composite(background, overlay) {\n    if (!Array.isArray(background))\n        background = rgba(background);\n    if (!Array.isArray(overlay))\n        overlay = rgba(overlay);\n    const a1 = background[3];\n    const a2 = overlay[3];\n    const alpha = roundAlpha(a1 + a2 - a1 * a2);\n    return stringifyRgba(compositeChannel(background[0], a1, overlay[0], a2, alpha), compositeChannel(background[1], a1, overlay[1], a2, alpha), compositeChannel(background[2], a1, overlay[2], a2, alpha), alpha);\n}\nexport function changeColor(base, options) {\n    const [r, g, b, a = 1] = Array.isArray(base) ? base : rgba(base);\n    if (options.alpha) {\n        return stringifyRgba(r, g, b, options.alpha);\n    }\n    return stringifyRgba(r, g, b, a);\n}\nexport function scaleColor(base, options) {\n    const [r, g, b, a = 1] = Array.isArray(base) ? base : rgba(base);\n    const { lightness = 1, alpha = 1 } = options;\n    return toRgbaString([r * lightness, g * lightness, b * lightness, a * alpha]);\n}\nexport function getAlpha(base) {\n    var _a;\n    const alpha = (_a = (Array.isArray(base) ? base : rgba(base))[3]) !== null && _a !== void 0 ? _a : 1;\n    return alpha;\n}\nexport function getAlphaString(base) {\n    return `${getAlpha(base)}`;\n}\nexport function roundAlpha(value) {\n    const v = Math.round(Number(value) * 100) / 100;\n    if (v > 1)\n        return 1;\n    if (v < 0)\n        return 0;\n    return v;\n}\nexport function roundDeg(value) {\n    const v = Math.round(Number(value));\n    if (v >= 360)\n        return 0;\n    if (v < 0)\n        return 0;\n    return v;\n}\nexport function roundChannel(value) {\n    const v = Math.round(Number(value));\n    if (v > 255)\n        return 255;\n    if (v < 0)\n        return 0;\n    return v;\n}\nexport function roundPercent(value) {\n    const v = Math.round(Number(value));\n    if (v > 100)\n        return 100;\n    if (v < 0)\n        return 0;\n    return v;\n}\nexport function toRgbString(base) {\n    const [r, g, b] = Array.isArray(base) ? base : rgba(base);\n    return stringifyRgb(r, g, b);\n}\nexport function toRgbaString(base) {\n    const [r, g, b] = base;\n    if (3 in base) {\n        return `rgba(${roundChannel(r)}, ${roundChannel(g)}, ${roundChannel(b)}, ${roundAlpha(base[3])})`;\n    }\n    return `rgba(${roundChannel(r)}, ${roundChannel(g)}, ${roundChannel(b)}, 1)`;\n}\nexport function toHsvString(base) {\n    return `hsv(${roundDeg(base[0])}, ${roundPercent(base[1])}%, ${roundPercent(base[2])}%)`;\n}\nexport function toHsvaString(base) {\n    const [h, s, v] = base;\n    if (3 in base) {\n        return `hsva(${roundDeg(h)}, ${roundPercent(s)}%, ${roundPercent(v)}%, ${roundAlpha(base[3])})`;\n    }\n    return `hsva(${roundDeg(h)}, ${roundPercent(s)}%, ${roundPercent(v)}%, 1)`;\n}\nexport function toHslString(base) {\n    return `hsl(${roundDeg(base[0])}, ${roundPercent(base[1])}%, ${roundPercent(base[2])}%)`;\n}\nexport function toHslaString(base) {\n    const [h, s, l] = base;\n    if (3 in base) {\n        return `hsla(${roundDeg(h)}, ${roundPercent(s)}%, ${roundPercent(l)}%, ${roundAlpha(base[3])})`;\n    }\n    return `hsla(${roundDeg(h)}, ${roundPercent(s)}%, ${roundPercent(l)}%, 1)`;\n}\n/**\n *\n * @param base [255, 255, 255, 255], [255, 255, 255], any hex string\n * @returns\n */\nexport function toHexaString(base) {\n    if (typeof base === 'string') {\n        let i;\n        if (i = hexRegex.exec(base)) {\n            return `${i[0]}FF`;\n        }\n        else if (i = hexaRegex.exec(base)) {\n            return i[0];\n        }\n        else if (i = sHexRegex.exec(base)) {\n            return `#${i[1]}${i[1]}${i[2]}${i[2]}${i[3]}${i[3]}FF`;\n        }\n        else if (i = sHexaRegex.exec(base)) {\n            return `#${i[1]}${i[1]}${i[2]}${i[2]}${i[3]}${i[3]}${i[4]}${i[4]}`;\n        }\n        throw new Error(`[seemly/toHexString]: Invalid hex value ${base}.`);\n    }\n    const hex = `#${base\n        .slice(0, 3)\n        .map((unit) => roundChannel(unit).toString(16).toUpperCase().padStart(2, '0'))\n        .join('')}`;\n    const a = base.length === 3\n        ? 'FF'\n        : roundChannel(base[3] * 255)\n            .toString(16)\n            .padStart(2, '0')\n            .toUpperCase();\n    return hex + a;\n}\n/**\n *\n * @param base [255, 255, 255, 255], [255, 255, 255], any hex string\n * @returns\n */\nexport function toHexString(base) {\n    if (typeof base === 'string') {\n        let i;\n        if (i = hexRegex.exec(base)) {\n            return i[0];\n        }\n        else if (i = hexaRegex.exec(base)) {\n            return i[0].slice(0, 7);\n        }\n        else if (i = (sHexRegex.exec(base) || sHexaRegex.exec(base))) {\n            return `#${i[1]}${i[1]}${i[2]}${i[2]}${i[3]}${i[3]}`;\n        }\n        throw new Error(`[seemly/toHexString]: Invalid hex value ${base}.`);\n    }\n    return `#${base\n        .slice(0, 3)\n        .map((unit) => roundChannel(unit).toString(16).toUpperCase().padStart(2, '0'))\n        .join('')}`;\n}\nexport { hsl2hsv, hsv2hsl, hsv2rgb, rgb2hsv, rgb2hsl, hsl2rgb } from './convert';\n", "export function createId(length = 8) {\n    return Math.random()\n        .toString(16)\n        .slice(2, 2 + length);\n}\nexport function repeat(count, v) {\n    const ret = [];\n    for (let i = 0; i < count; ++i) {\n        ret.push(v);\n    }\n    return ret;\n}\nfunction indexMap(count, createValue) {\n    const ret = [];\n    if (!createValue) {\n        for (let i = 0; i < count; ++i) {\n            ret.push(i);\n        }\n        return ret;\n    }\n    for (let i = 0; i < count; ++i) {\n        ret.push(createValue(i));\n    }\n    return ret;\n}\nexport { indexMap };\nexport async function sleep(ms) {\n    return new Promise(resolve => {\n        setTimeout(resolve, ms);\n    });\n}\n", "import { Fragment, createTextVNode, Comment } from 'vue';\nexport function getSlot(scope, slots, slotName = 'default') {\n    const slot = slots[slotName];\n    if (slot === undefined) {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] is empty.`);\n    }\n    return slot();\n}\n// o(n) flatten\nexport function flatten(vNodes, filterCommentNode = true, result = []) {\n    vNodes.forEach((vNode) => {\n        if (vNode === null)\n            return;\n        if (typeof vNode !== 'object') {\n            if (typeof vNode === 'string' || typeof vNode === 'number') {\n                result.push(createTextVNode(String(vNode)));\n            }\n            return;\n        }\n        if (Array.isArray(vNode)) {\n            flatten(vNode, filterCommentNode, result);\n            return;\n        }\n        if (vNode.type === Fragment) {\n            if (vNode.children === null)\n                return;\n            if (Array.isArray(vNode.children)) {\n                flatten(vNode.children, filterCommentNode, result);\n            }\n            // rawSlot\n        }\n        else if (vNode.type !== Comment) {\n            result.push(vNode);\n        }\n    });\n    return result;\n}\nexport function getFirstVNode(scope, slots, slotName = 'default') {\n    const slot = slots[slotName];\n    if (slot === undefined) {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] is empty.`);\n    }\n    const content = flatten(slot());\n    // vue will normalize the slot, so slot must be an array\n    if (content.length === 1) {\n        return content[0];\n    }\n    else {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] should have exactly one child.`);\n    }\n}\n", "let viewMeasurer = null;\nexport function ensureViewBoundingRect() {\n    if (viewMeasurer === null) {\n        viewMeasurer = document.getElementById('v-binder-view-measurer');\n        if (viewMeasurer === null) {\n            viewMeasurer = document.createElement('div');\n            viewMeasurer.id = 'v-binder-view-measurer';\n            const { style } = viewMeasurer;\n            style.position = 'fixed';\n            style.left = '0';\n            style.right = '0';\n            style.top = '0';\n            style.bottom = '0';\n            style.pointerEvents = 'none';\n            style.visibility = 'hidden';\n            document.body.appendChild(viewMeasurer);\n        }\n    }\n    return viewMeasurer.getBoundingClientRect();\n}\nexport function getPointRect(x, y) {\n    const viewRect = ensureViewBoundingRect();\n    return {\n        top: y,\n        left: x,\n        height: 0,\n        width: 0,\n        right: viewRect.width - x,\n        bottom: viewRect.height - y\n    };\n}\nexport function getRect(el) {\n    const elRect = el.getBoundingClientRect();\n    const viewRect = ensureViewBoundingRect();\n    return {\n        left: elRect.left - viewRect.left,\n        top: elRect.top - viewRect.top,\n        bottom: viewRect.height + viewRect.top - elRect.bottom,\n        right: viewRect.width + viewRect.left - elRect.right,\n        width: elRect.width,\n        height: elRect.height\n    };\n}\nexport function getParentNode(node) {\n    // document type\n    if (node.nodeType === 9) {\n        return null;\n    }\n    return node.parentNode;\n}\nexport function getScrollParent(node) {\n    if (node === null)\n        return null;\n    const parentNode = getParentNode(node);\n    if (parentNode === null) {\n        return null;\n    }\n    // Document\n    if (parentNode.nodeType === 9) {\n        return document;\n    }\n    // Element\n    if (parentNode.nodeType === 1) {\n        // Firefox want us to check `-x` and `-y` variations as well\n        const { overflow, overflowX, overflowY } = getComputedStyle(parentNode);\n        if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n            return parentNode;\n        }\n    }\n    return getScrollParent(parentNode);\n}\n", "/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { defineComponent, provide, ref, inject, getCurrentInstance, onBeforeUnmount } from 'vue';\nimport { beforeNextFrameOnce } from 'seemly';\nimport { on, off } from 'evtd';\nimport { getSlot } from '../../shared/v-node';\nimport { getScrollParent } from './utils';\nconst Binder = defineComponent({\n    name: 'Binder',\n    props: {\n        syncTargetWithParent: Boolean,\n        syncTarget: {\n            type: Boolean,\n            default: true\n        }\n    },\n    setup(props) {\n        var _a;\n        provide('VBinder', (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy);\n        const VBinder = inject('VBinder', null);\n        const targetRef = ref(null);\n        /**\n         * If there's no nested vbinder, we can simply set the target ref.\n         *\n         * However, when it comes to:\n         * <VBinder> <- syncTarget = false\n         *\n         *              Should hold target DOM ref, but can't get it directly from\n         *              its VTarget. So if there are nested VBinder, we should:\n         *              1. Stop setting target DOM from level-1 VTarget\n         *              2. Set target DOM from level-2 VTarget\n         *              For (1), we need `syncTarget` to `false`\n         *              For (2), we need to set `syncTargetWithParent` to `true` on\n         *              level-2 VBinder\n         *   <VTarget>\n         *     <VBinder> <- syncTargetWithParent = true\n         *       <VTarget>target</VTarget>\n         *     </VBinder>\n         *     <VFollower>\n         *       content1\n         *     </VFollower>\n         *   </VTarget>\n         *   <VFollower>\n         *     content2\n         *   </VFollower>\n         * </VBinder>\n         */\n        const setTargetRef = (el) => {\n            targetRef.value = el;\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            if (VBinder && props.syncTargetWithParent) {\n                VBinder.setTargetRef(el);\n            }\n        };\n        // scroll related\n        let scrollableNodes = [];\n        const ensureScrollListener = () => {\n            let cursor = targetRef.value;\n            while (true) {\n                cursor = getScrollParent(cursor);\n                if (cursor === null)\n                    break;\n                scrollableNodes.push(cursor);\n            }\n            for (const el of scrollableNodes) {\n                on('scroll', el, onScroll, true);\n            }\n        };\n        const removeScrollListeners = () => {\n            for (const el of scrollableNodes) {\n                off('scroll', el, onScroll, true);\n            }\n            scrollableNodes = [];\n        };\n        const followerScrollListeners = new Set();\n        const addScrollListener = (listener) => {\n            if (followerScrollListeners.size === 0) {\n                ensureScrollListener();\n            }\n            if (!followerScrollListeners.has(listener)) {\n                followerScrollListeners.add(listener);\n            }\n        };\n        const removeScrollListener = (listener) => {\n            if (followerScrollListeners.has(listener)) {\n                followerScrollListeners.delete(listener);\n            }\n            if (followerScrollListeners.size === 0) {\n                removeScrollListeners();\n            }\n        };\n        const onScroll = () => {\n            beforeNextFrameOnce(onScrollRaf);\n        };\n        const onScrollRaf = () => {\n            followerScrollListeners.forEach((listener) => listener());\n        };\n        // resize related\n        const followerResizeListeners = new Set();\n        const addResizeListener = (listener) => {\n            if (followerResizeListeners.size === 0) {\n                on('resize', window, onResize);\n            }\n            if (!followerResizeListeners.has(listener)) {\n                followerResizeListeners.add(listener);\n            }\n        };\n        const removeResizeListener = (listener) => {\n            if (followerResizeListeners.has(listener)) {\n                followerResizeListeners.delete(listener);\n            }\n            if (followerResizeListeners.size === 0) {\n                off('resize', window, onResize);\n            }\n        };\n        const onResize = () => {\n            followerResizeListeners.forEach((listener) => listener());\n        };\n        onBeforeUnmount(() => {\n            off('resize', window, onResize);\n            removeScrollListeners();\n        });\n        return {\n            targetRef,\n            setTargetRef,\n            addScrollListener,\n            removeScrollListener,\n            addResizeListener,\n            removeResizeListener\n        };\n    },\n    render() {\n        return getSlot('binder', this.$slots);\n    }\n});\nexport default Binder;\n", "/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { defineComponent, inject, withDirectives } from 'vue';\nimport { getFirstVNode } from '../../shared/v-node';\nexport default defineComponent({\n    name: 'Target',\n    setup() {\n        const { setTargetRef, syncTarget } = inject('VBinder');\n        const setTargetDirective = {\n            mounted: setTargetRef,\n            updated: setTargetRef\n        };\n        return {\n            syncTarget,\n            setTargetDirective\n        };\n    },\n    render() {\n        const { syncTarget, setTargetDirective } = this;\n        /**\n         * If you are using VBinder as a child of VBinder, the children wouldn't be\n         * a valid DOM or component that can be attached to by directive.\n         * So we won't sync target on those kind of situation and control the\n         * target sync logic manually.\n         */\n        if (syncTarget) {\n            return withDirectives(getFirstVNode('follower', this.$slots), [\n                [setTargetDirective]\n            ]);\n        }\n        return getFirstVNode('follower', this.$slots);\n    }\n});\n", "const warnedMessages = new Set();\nexport function warnOnce(location, message) {\n    const mergedMessage = `[vdirs/${location}]: ${message}`;\n    if (warnedMessages.has(mergedMessage))\n        return;\n    warnedMessages.add(mergedMessage);\n}\nexport function warn(location, message) {\n    console.error(`[vdirs/${location}]: ${message}`);\n}\n", "import { warn } from '../utils';\nclass ZIndexManager {\n    constructor() {\n        this.elementZIndex = new Map();\n        this.nextZIndex = 2000;\n    }\n    get elementCount() {\n        return this.elementZIndex.size;\n    }\n    ensureZIndex(el, zIndex) {\n        const { elementZIndex } = this;\n        if (zIndex !== undefined) {\n            el.style.zIndex = `${zIndex}`;\n            elementZIndex.delete(el);\n            return;\n        }\n        const { nextZIndex } = this;\n        if (elementZIndex.has(el)) {\n            const currentZIndex = elementZIndex.get(el);\n            if (currentZIndex + 1 === this.nextZIndex)\n                return;\n        }\n        el.style.zIndex = `${nextZIndex}`;\n        elementZIndex.set(el, nextZIndex);\n        this.nextZIndex = nextZIndex + 1;\n        this.squashState();\n    }\n    unregister(el, zIndex) {\n        const { elementZIndex } = this;\n        if (elementZIndex.has(el)) {\n            elementZIndex.delete(el);\n        }\n        else if (zIndex === undefined) {\n            warn('z-index-manager/unregister-element', 'Element not found when unregistering.');\n        }\n        this.squashState();\n    }\n    squashState() {\n        const { elementCount } = this;\n        if (!elementCount) {\n            this.nextZIndex = 2000;\n        }\n        if (this.nextZIndex - elementCount > 2500)\n            this.rearrange();\n    }\n    rearrange() {\n        const elementZIndexPair = Array.from(this.elementZIndex.entries());\n        elementZIndexPair.sort((pair1, pair2) => {\n            return pair1[1] - pair2[1];\n        });\n        this.nextZIndex = 2000;\n        elementZIndexPair.forEach((pair) => {\n            const el = pair[0];\n            const zIndex = this.nextZIndex++;\n            if (`${zIndex}` !== el.style.zIndex)\n                el.style.zIndex = `${zIndex}`;\n        });\n    }\n}\nexport default new ZIndexManager();\n", "import zIndexManager from './z-index-manager';\nconst ctx = '@@ziContext';\n// We don't expect manually bound zindex should be changed\nconst zindexable = {\n    mounted(el, bindings) {\n        const { value = {} } = bindings;\n        const { zIndex, enabled } = value;\n        el[ctx] = {\n            enabled: !!enabled,\n            initialized: false\n        };\n        if (enabled) {\n            zIndexManager.ensureZIndex(el, zIndex);\n            el[ctx].initialized = true;\n        }\n    },\n    updated(el, bindings) {\n        const { value = {} } = bindings;\n        const { zIndex, enabled } = value;\n        const cachedEnabled = el[ctx].enabled;\n        if (enabled && !cachedEnabled) {\n            zIndexManager.ensureZIndex(el, zIndex);\n            el[ctx].initialized = true;\n        }\n        el[ctx].enabled = !!enabled;\n    },\n    unmounted(el, bindings) {\n        if (!el[ctx].initialized)\n            return;\n        const { value = {} } = bindings;\n        const { zIndex } = value;\n        zIndexManager.unregister(el, zIndex);\n    }\n};\nexport default zindexable;\n", "import { inject } from 'vue';\nconst ssrContextKey = Symbol('@css-render/vue3-ssr');\nfunction createStyleString(id, style) {\n    return `<style cssr-id=\"${id}\">\\n${style}\\n</style>`;\n}\nfunction ssrAdapter(id, style) {\n    const ssrContext = inject(ssrContextKey, null);\n    if (ssrContext === null) {\n        console.error('[css-render/vue3-ssr]: no ssr context found.');\n        return;\n    }\n    const { styles, ids } = ssrContext;\n    // we need to impl other options to make it behaves the same as the client side\n    if (ids.has(id))\n        return;\n    if (styles !== null) {\n        ids.add(id);\n        styles.push(createStyleString(id, style));\n    }\n}\nconst isBrowser = typeof document !== 'undefined';\nexport function useSsrAdapter() {\n    if (isBrowser)\n        return undefined;\n    const context = inject(ssrContextKey, null);\n    if (context === null)\n        return undefined;\n    return {\n        adapter: ssrAdapter,\n        context\n    };\n}\nexport function setup(app) {\n    const styles = [];\n    const ssrContext = {\n        styles,\n        ids: new Set()\n    };\n    app.provide(ssrContextKey, ssrContext);\n    return {\n        collect() {\n            const res = styles.join('\\n');\n            styles.length = 0;\n            return res;\n        }\n    };\n}\n", "export function warn(location, message) {\n    console.error(`[vueuc/${location}]: ${message}`);\n}\n", "function ampCount(selector) {\n    let cnt = 0;\n    for (let i = 0; i < selector.length; ++i) {\n        if (selector[i] === '&')\n            ++cnt;\n    }\n    return cnt;\n}\n/**\n * Don't just use ',' to separate css selector. For example:\n * x:(a, b) {} will be split into 'x:(a' and 'b)', which is not expected.\n * Make sure comma doesn't exist inside parentheses.\n */\nconst separatorRegex = /\\s*,(?![^(]*\\))\\s*/g;\nconst extraSpaceRegex = /\\s+/g;\n/**\n * selector must includes '&'\n * selector is trimmed\n * every part of amp is trimmed\n */\nfunction resolveSelectorWithAmp(amp, selector) {\n    const nextAmp = [];\n    selector.split(separatorRegex).forEach(partialSelector => {\n        let round = ampCount(partialSelector);\n        // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n        if (!round) {\n            amp.forEach(partialAmp => {\n                nextAmp.push(\n                // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n                (partialAmp && partialAmp + ' ') + partialSelector);\n            });\n            return;\n        }\n        else if (round === 1) {\n            amp.forEach(partialAmp => {\n                nextAmp.push(partialSelector.replace('&', partialAmp));\n            });\n            return;\n        }\n        let partialNextAmp = [\n            partialSelector\n        ];\n        // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n        while (round--) {\n            const nextPartialNextAmp = [];\n            partialNextAmp.forEach(selectorItr => {\n                amp.forEach(partialAmp => {\n                    nextPartialNextAmp.push(selectorItr.replace('&', partialAmp));\n                });\n            });\n            partialNextAmp = nextPartialNextAmp;\n        }\n        partialNextAmp.forEach(part => nextAmp.push(part));\n    });\n    return nextAmp;\n}\n/**\n * selector mustn't includes '&'\n * selector is trimmed\n */\nfunction resolveSelector(amp, selector) {\n    const nextAmp = [];\n    selector.split(separatorRegex).forEach(partialSelector => {\n        amp.forEach(partialAmp => {\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            nextAmp.push(((partialAmp && partialAmp + ' ') + partialSelector));\n        });\n    });\n    return nextAmp;\n}\nexport function parseSelectorPath(selectorPaths) {\n    let amp = [''];\n    selectorPaths.forEach(selector => {\n        // eslint-disable-next-line\n        selector = selector && selector.trim();\n        if (\n        // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n        !selector) {\n            /**\n             * if it's a empty selector, do nothing\n             */\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n        if (selector.includes('&')) {\n            amp = resolveSelectorWithAmp(amp, selector);\n        }\n        else {\n            amp = resolveSelector(amp, selector);\n        }\n    });\n    return amp.join(', ').replace(extraSpaceRegex, ' ');\n}\n", "export function removeElement(el) {\n    /* istanbul ignore if */\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n    if (!el)\n        return;\n    const parentElement = el.parentElement;\n    /* istanbul ignore else */\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n    if (parentElement)\n        parentElement.removeChild(el);\n}\nexport function queryElement(id) {\n    return document.querySelector(`style[cssr-id=\"${id}\"]`);\n}\nexport function createElement(id) {\n    const el = document.createElement('style');\n    el.setAttribute('cssr-id', id);\n    return el;\n}\nexport function isMediaOrSupports(selector) {\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n    if (!selector)\n        return false;\n    return /^\\s*@(s|m)/.test(selector);\n}\n", "import { parseSelectorPath } from './parse';\nimport { isMediaOrSupports } from './utils';\nconst kebabRegex = /[A-Z]/g;\nfunction kebabCase(pattern) {\n    return pattern.replace(kebabRegex, match => '-' + match.toLowerCase());\n}\n/** TODO: refine it to solve nested object */\nfunction unwrapProperty(prop, indent = '  ') {\n    if (typeof prop === 'object' && prop !== null) {\n        return (' {\\n' +\n            Object.entries(prop).map(v => {\n                return indent + `  ${kebabCase(v[0])}: ${v[1]};`;\n            }).join('\\n') +\n            '\\n' + indent + '}');\n    }\n    return `: ${prop};`;\n}\n/** unwrap properties */\nfunction unwrapProperties(props, instance, params) {\n    if (typeof props === 'function') {\n        return props({\n            context: instance.context,\n            props: params\n        });\n    }\n    return props;\n}\nfunction createStyle(selector, props, instance, params) {\n    if (!props)\n        return '';\n    // eslint-disable-next-line\n    const unwrappedProps = unwrapProperties(props, instance, params);\n    if (!unwrappedProps)\n        return '';\n    if (typeof unwrappedProps === 'string') {\n        return `${selector} {\\n${unwrappedProps}\\n}`;\n    }\n    const propertyNames = Object.keys(unwrappedProps);\n    if (propertyNames.length === 0) {\n        if (instance.config.keepEmptyBlock)\n            return selector + ' {\\n}';\n        return '';\n    }\n    const statements = selector\n        ? [\n            selector + ' {'\n        ]\n        : [];\n    propertyNames.forEach(propertyName => {\n        const property = unwrappedProps[propertyName];\n        if (propertyName === 'raw') {\n            statements.push('\\n' + property + '\\n');\n            return;\n        }\n        propertyName = kebabCase(propertyName);\n        if (property !== null && property !== undefined) {\n            statements.push(`  ${propertyName}${unwrapProperty(property)}`);\n        }\n    });\n    if (selector) {\n        statements.push('}');\n    }\n    return statements.join('\\n');\n}\nfunction loopCNodeListWithCallback(children, options, callback) {\n    /* istanbul ignore if */\n    if (!children)\n        return;\n    children.forEach(child => {\n        if (Array.isArray(child)) {\n            loopCNodeListWithCallback(child, options, callback);\n        }\n        else if (typeof child === 'function') {\n            const grandChildren = child(options);\n            if (Array.isArray(grandChildren)) {\n                loopCNodeListWithCallback(grandChildren, options, callback);\n            }\n            else if (grandChildren) {\n                callback(grandChildren);\n            }\n        }\n        else if (child) {\n            callback(child);\n        }\n    });\n}\nfunction traverseCNode(node, selectorPaths, styles, instance, params, styleSheet) {\n    const $ = node.$;\n    let blockSelector = '';\n    if (!$ || typeof $ === 'string') {\n        if (isMediaOrSupports($)) {\n            blockSelector = $;\n        }\n        else {\n            // as a string selector\n            selectorPaths.push($);\n        }\n    }\n    else if (typeof $ === 'function') {\n        const selector = $({\n            context: instance.context,\n            props: params\n        });\n        if (isMediaOrSupports(selector)) {\n            blockSelector = selector;\n        }\n        else {\n            // as a lazy selector\n            selectorPaths.push(selector);\n        }\n    }\n    else { // as a option selector\n        if ($.before)\n            $.before(instance.context);\n        if (!$.$ || typeof $.$ === 'string') {\n            if (isMediaOrSupports($.$)) {\n                blockSelector = $.$;\n            }\n            else {\n                // as a string selector\n                selectorPaths.push($.$);\n            }\n        }\n        else /* istanbul ignore else */ if ($.$) {\n            const selector = $.$({\n                context: instance.context,\n                props: params\n            });\n            if (isMediaOrSupports(selector)) {\n                blockSelector = selector;\n            }\n            else {\n                // as a lazy selector\n                selectorPaths.push(selector);\n            }\n        }\n    }\n    const selector = parseSelectorPath(selectorPaths);\n    const style = createStyle(selector, node.props, instance, params);\n    if (blockSelector) {\n        styles.push(`${blockSelector} {`);\n        if (styleSheet && style) {\n            styleSheet.insertRule(`${blockSelector} {\\n${style}\\n}\\n`);\n        }\n    }\n    else {\n        if (styleSheet && style) {\n            styleSheet.insertRule(style);\n        }\n        if (!styleSheet && style.length)\n            styles.push(style);\n    }\n    if (node.children) {\n        loopCNodeListWithCallback(node.children, {\n            context: instance.context,\n            props: params\n        }, childNode => {\n            if (typeof childNode === 'string') {\n                const style = createStyle(selector, { raw: childNode }, instance, params);\n                if (styleSheet) {\n                    styleSheet.insertRule(style);\n                }\n                else {\n                    styles.push(style);\n                }\n            }\n            else {\n                traverseCNode(childNode, selectorPaths, styles, instance, params, styleSheet);\n            }\n        });\n    }\n    selectorPaths.pop();\n    if (blockSelector) {\n        styles.push('}');\n    }\n    if ($ && $.after)\n        $.after(instance.context);\n}\nexport function render(node, instance, props, insertRule = false) {\n    const styles = [];\n    traverseCNode(node, [], styles, instance, props, insertRule\n        ? node.instance.__styleSheet\n        : undefined);\n    if (insertRule)\n        return '';\n    return styles.join('\\n\\n');\n}\n", "/* eslint-disable */\n// Inspired by https://github.com/garycourt/murmurhash-js\n// Ported from https://github.com/aappleby/smhasher/blob/61a0530f28277f2e850bfc39600ce61d02b518de/src/MurmurHash2.cpp#L37-L86\nfunction murmur2(str) {\n  // 'm' and 'r' are mixing constants generated offline.\n  // They're not really 'magic', they just happen to work well.\n  // const m = 0x5bd1e995;\n  // const r = 24;\n  // Initialize the hash\n  var h = 0; // Mix 4 bytes at a time into the hash\n\n  var k,\n      i = 0,\n      len = str.length;\n\n  for (; len >= 4; ++i, len -= 4) {\n    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n    k =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16);\n    k ^=\n    /* k >>> r: */\n    k >>> 24;\n    h =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16) ^\n    /* Math.imul(h, m): */\n    (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Handle the last few bytes of the input array\n\n\n  switch (len) {\n    case 3:\n      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n    case 2:\n      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n    case 1:\n      h ^= str.charCodeAt(i) & 0xff;\n      h =\n      /* Math.imul(h, m): */\n      (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Do a few final mixes of the hash to ensure the last few\n  // bytes are well-incorporated.\n\n\n  h ^= h >>> 13;\n  h =\n  /* Math.imul(h, m): */\n  (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  return ((h ^ h >>> 15) >>> 0).toString(36);\n}\n\nexport default murmur2;\n", "/* eslint-disable @typescript-eslint/prefer-ts-expect-error */\n/* eslint-disable @typescript-eslint/strict-boolean-expressions */\nimport hash from './hash';\nimport { render } from './render';\nimport { createElement, queryElement, removeElement } from './utils';\nif (typeof window !== 'undefined') {\n    window.__cssrContext = {};\n}\nexport function unmount(intance, node, id) {\n    const { els } = node;\n    // If id is undefined, unmount all styles\n    if (id === undefined) {\n        els.forEach(removeElement);\n        node.els = [];\n    }\n    else {\n        const target = queryElement(id);\n        // eslint-disable-next-line\n        if (target && els.includes(target)) {\n            removeElement(target);\n            node.els = els.filter((el) => el !== target);\n        }\n    }\n}\nfunction addElementToList(els, target) {\n    els.push(target);\n}\nfunction mount(instance, node, id, props, head, silent, force, anchorMetaName, ssrAdapter\n// eslint-disable-next-line @typescript-eslint/no-invalid-void-type\n) {\n    if (silent && !ssrAdapter) {\n        if (id === undefined) {\n            // it is possible to use hash to get rid of the requirements of id\n            // if you are interested in it, please create a pr\n            // i have no time to impl it\n            console.error('[css-render/mount]: `id` is required in `silent` mode.');\n            return;\n        }\n        const cssrContext = window.__cssrContext;\n        if (!cssrContext[id]) {\n            cssrContext[id] = true;\n            render(node, instance, props, silent);\n        }\n        return;\n    }\n    let style;\n    if (id === undefined) {\n        style = node.render(props);\n        id = hash(style);\n    }\n    if (ssrAdapter) {\n        ssrAdapter.adapter(id, style !== null && style !== void 0 ? style : node.render(props));\n        return;\n    }\n    const queriedTarget = queryElement(id);\n    if (queriedTarget !== null && !force) {\n        return queriedTarget;\n    }\n    const target = queriedTarget !== null && queriedTarget !== void 0 ? queriedTarget : createElement(id);\n    if (style === undefined)\n        style = node.render(props);\n    target.textContent = style;\n    if (queriedTarget !== null)\n        return queriedTarget;\n    if (anchorMetaName) {\n        const anchorMetaEl = document.head.querySelector(`meta[name=\"${anchorMetaName}\"]`);\n        if (anchorMetaEl) {\n            document.head.insertBefore(target, anchorMetaEl);\n            addElementToList(node.els, target);\n            return target;\n        }\n    }\n    if (head) {\n        document.head.insertBefore(target, document.head.querySelector('style, link'));\n    }\n    else {\n        document.head.appendChild(target);\n    }\n    addElementToList(node.els, target);\n    return target;\n}\nexport { mount };\n", "import { render } from './render';\nimport { mount, unmount } from './mount';\nfunction wrappedRender(props) {\n    return render(this, this.instance, props);\n}\n// do not guard node calling, it should throw an error.\nfunction wrappedMount(options = {}\n// eslint-disable-next-line @typescript-eslint/no-invalid-void-type\n) {\n    const { id, ssr, props, head = false, silent = false, force = false, anchorMetaName } = options;\n    const targetElement = mount(this.instance, this, id, props, head, silent, force, anchorMetaName, ssr);\n    return targetElement;\n}\nfunction wrappedUnmount(options = {}) {\n    /* istanbul ignore next */\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n    const { id } = options;\n    unmount(this.instance, this, id);\n}\nconst createCNode = function (instance, $, props, children) {\n    return {\n        instance,\n        $,\n        props,\n        children,\n        els: [],\n        render: wrappedRender,\n        mount: wrappedMount,\n        unmount: wrappedUnmount\n    };\n};\nexport const c = function (instance, $, props, children) {\n    if (Array.isArray($)) {\n        return createCNode(instance, { $: null }, null, $);\n    }\n    else if (Array.isArray(props)) {\n        return createCNode(instance, $, null, props);\n    }\n    else if (Array.isArray(children)) {\n        return createCNode(instance, $, props, children);\n    }\n    else {\n        return createCNode(instance, $, props, null);\n    }\n};\n", "import { c } from './c';\nimport { queryElement } from './utils';\nexport function CssRender(config = {}) {\n    let styleSheet = null;\n    const cssr = {\n        c: ((...args) => c(cssr, ...args)),\n        use: (plugin, ...args) => plugin.install(cssr, ...args),\n        find: queryElement,\n        context: {},\n        config,\n        get __styleSheet() {\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            if (!styleSheet) {\n                const style = document.createElement('style');\n                document.head.appendChild(style);\n                styleSheet = document.styleSheets[document.styleSheets.length - 1];\n                return styleSheet;\n            }\n            return styleSheet;\n        }\n    };\n    return cssr;\n}\n", "import { CssRender } from 'css-render';\nconst { c } = CssRender();\nexport { c };\nexport const cssrAnchorMetaName = 'vueuc-style';\n", "function lowBit(n) {\n    return n & -n;\n}\nexport class FinweckTree {\n    /**\n     * @param l length of the array\n     * @param min min value of the array\n     */\n    constructor(l, min) {\n        this.l = l;\n        this.min = min;\n        const ft = new Array(l + 1);\n        for (let i = 0; i < l + 1; ++i) {\n            ft[i] = 0;\n        }\n        this.ft = ft;\n    }\n    /**\n     * Add arr[i] by n, start from 0\n     * @param i the index of the element to be added\n     * @param n the value to be added\n     */\n    add(i, n) {\n        if (n === 0)\n            return;\n        const { l, ft } = this;\n        i += 1;\n        while (i <= l) {\n            ft[i] += n;\n            i += lowBit(i);\n        }\n    }\n    /**\n     * Get the value of index i\n     * @param i index\n     * @returns value of the index\n     */\n    get(i) {\n        return this.sum(i + 1) - this.sum(i);\n    }\n    /**\n     * Get the sum of first i elements\n     * @param i count of head elements to be added\n     * @returns the sum of first i elements\n     */\n    sum(i) {\n        if (i === undefined)\n            i = this.l;\n        if (i <= 0)\n            return 0;\n        const { ft, min, l } = this;\n        if (i > l)\n            throw new Error('[FinweckTree.sum]: `i` is larger than length.');\n        let ret = i * min;\n        while (i > 0) {\n            ret += ft[i];\n            i -= lowBit(i);\n        }\n        return ret;\n    }\n    /**\n     * Get the largest count of head elements whose sum are <= threshold\n     * @param threshold\n     * @returns the largest count of head elements whose sum are <= threshold\n     */\n    getBound(threshold) {\n        let l = 0;\n        let r = this.l;\n        while (r > l) {\n            const m = Math.floor((l + r) / 2);\n            const sumM = this.sum(m);\n            if (sumM > threshold) {\n                r = m;\n                continue;\n            }\n            else if (sumM < threshold) {\n                if (l === m) {\n                    if (this.sum(l + 1) <= threshold)\n                        return l + 1;\n                    return m;\n                }\n                l = m;\n            }\n            else {\n                return m;\n            }\n        }\n        return l;\n    }\n}\n", "export function resolveTo(selector) {\n    if (typeof selector === 'string') {\n        return document.querySelector(selector);\n    }\n    return selector();\n}\n", "import { Teleport, h, toRef, computed, defineComponent } from 'vue';\nimport { useFalseUntilTruthy } from 'vooks';\nimport { getSlot } from '../../shared/v-node';\nexport default defineComponent({\n    name: 'LazyTeleport',\n    props: {\n        to: {\n            type: [String, Object],\n            default: undefined\n        },\n        disabled: Boolean,\n        show: {\n            type: Boolean,\n            required: true\n        }\n    },\n    setup(props) {\n        return {\n            showTeleport: useFalseUntilTruthy(toRef(props, 'show')),\n            mergedTo: computed(() => {\n                const { to } = props;\n                return to !== null && to !== void 0 ? to : 'body';\n            })\n        };\n    },\n    render() {\n        return this.showTeleport\n            ? this.disabled\n                ? getSlot('lazy-teleport', this.$slots)\n                : h(Teleport, {\n                    disabled: this.disabled,\n                    to: this.mergedTo\n                }, getSlot('lazy-teleport', this.$slots))\n            : null;\n    }\n});\n", "const oppositionPositions = {\n    top: 'bottom',\n    bottom: 'top',\n    left: 'right',\n    right: 'left'\n};\nconst oppositeAligns = {\n    start: 'end',\n    center: 'center',\n    end: 'start'\n};\nconst propToCompare = {\n    top: 'height',\n    bottom: 'height',\n    left: 'width',\n    right: 'width'\n};\nconst transformOrigins = {\n    'bottom-start': 'top left',\n    bottom: 'top center',\n    'bottom-end': 'top right',\n    'top-start': 'bottom left',\n    top: 'bottom center',\n    'top-end': 'bottom right',\n    'right-start': 'top left',\n    right: 'center left',\n    'right-end': 'bottom left',\n    'left-start': 'top right',\n    left: 'center right',\n    'left-end': 'bottom right'\n};\nconst overlapTransformOrigin = {\n    'bottom-start': 'bottom left',\n    bottom: 'bottom center',\n    'bottom-end': 'bottom right',\n    'top-start': 'top left',\n    top: 'top center',\n    'top-end': 'top right',\n    'right-start': 'top right',\n    right: 'center right',\n    'right-end': 'bottom right',\n    'left-start': 'top left',\n    left: 'center left',\n    'left-end': 'bottom left'\n};\nconst oppositeAlignCssPositionProps = {\n    'bottom-start': 'right',\n    'bottom-end': 'left',\n    'top-start': 'right',\n    'top-end': 'left',\n    'right-start': 'bottom',\n    'right-end': 'top',\n    'left-start': 'bottom',\n    'left-end': 'top'\n};\nconst keepOffsetDirection = {\n    top: true,\n    bottom: false,\n    left: true,\n    right: false // left--\n};\nconst cssPositionToOppositeAlign = {\n    top: 'end',\n    bottom: 'start',\n    left: 'end',\n    right: 'start'\n};\nexport function getPlacementAndOffsetOfFollower(placement, targetRect, followerRect, shift, flip, overlap) {\n    if (!flip || overlap) {\n        return { placement: placement, top: 0, left: 0 };\n    }\n    const [position, align] = placement.split('-');\n    let properAlign = align !== null && align !== void 0 ? align : 'center';\n    let properOffset = {\n        top: 0,\n        left: 0\n    };\n    const deriveOffset = (oppositeAlignCssSizeProp, alignCssPositionProp, offsetVertically) => {\n        let left = 0;\n        let top = 0;\n        const diff = followerRect[oppositeAlignCssSizeProp] -\n            targetRect[alignCssPositionProp] -\n            targetRect[oppositeAlignCssSizeProp];\n        if (diff > 0 && shift) {\n            if (offsetVertically) {\n                //       screen border\n                // |-----------------------------------------|\n                // |                    | f  |               |\n                // |                    | o  |               |\n                // |                    | l  |               |\n                // |                    | l  |----           |\n                // |                    | o  |tar |          |\n                // |                    | w  |get |          |\n                // |                    | e  |    |          |\n                // |                    | r  |----           |\n                // |                     ----                |\n                // |-----------------------------------------|\n                top = keepOffsetDirection[alignCssPositionProp] ? diff : -diff;\n            }\n            else {\n                //       screen border\n                // |----------------------------------------|\n                // |                                        |\n                // |          ----------                    |\n                // |          | target |                    |\n                // |       ----------------------------------\n                // |       |       follower                 |\n                // |       ----------------------------------\n                // |                                        |\n                // |----------------------------------------|\n                left = keepOffsetDirection[alignCssPositionProp] ? diff : -diff;\n            }\n        }\n        return {\n            left,\n            top\n        };\n    };\n    const offsetVertically = position === 'left' || position === 'right';\n    // choose proper placement for non-center align\n    if (properAlign !== 'center') {\n        const oppositeAlignCssPositionProp = oppositeAlignCssPositionProps[placement];\n        const currentAlignCssPositionProp = oppositionPositions[oppositeAlignCssPositionProp];\n        const oppositeAlignCssSizeProp = propToCompare[oppositeAlignCssPositionProp];\n        // if follower rect is larger than target rect in align direction\n        // ----------[ target ]---------|\n        // ----------[     follower     ]\n        if (followerRect[oppositeAlignCssSizeProp] >\n            targetRect[oppositeAlignCssSizeProp]) {\n            if (\n            // current space is not enough\n            // ----------[ target ]---------|\n            // -------[     follower        ]\n            targetRect[oppositeAlignCssPositionProp] +\n                targetRect[oppositeAlignCssSizeProp] <\n                followerRect[oppositeAlignCssSizeProp]) {\n                const followerOverTargetSize = (followerRect[oppositeAlignCssSizeProp] -\n                    targetRect[oppositeAlignCssSizeProp]) /\n                    2;\n                if (targetRect[oppositeAlignCssPositionProp] < followerOverTargetSize ||\n                    targetRect[currentAlignCssPositionProp] < followerOverTargetSize) {\n                    // opposite align has larger space\n                    // -------[ target ]-----------|\n                    // -------[     follower     ]-|\n                    if (targetRect[oppositeAlignCssPositionProp] <\n                        targetRect[currentAlignCssPositionProp]) {\n                        properAlign = oppositeAligns[align];\n                        properOffset = deriveOffset(oppositeAlignCssSizeProp, currentAlignCssPositionProp, offsetVertically);\n                    }\n                    else {\n                        // ----------------[ target ]----|\n                        // --------[   follower     ]----|\n                        properOffset = deriveOffset(oppositeAlignCssSizeProp, oppositeAlignCssPositionProp, offsetVertically);\n                    }\n                }\n                else {\n                    // 'center' align is better\n                    // ------------[ target ]--------|\n                    // -------[       follower    ]--|\n                    properAlign = 'center';\n                }\n            }\n        }\n        else if (followerRect[oppositeAlignCssSizeProp] <\n            targetRect[oppositeAlignCssSizeProp]) {\n            // TODO: maybe center is better\n            if (targetRect[currentAlignCssPositionProp] < 0 &&\n                // opposite align has larger space\n                // ------------[   target   ]\n                // ----------------[follower]\n                targetRect[oppositeAlignCssPositionProp] >\n                    targetRect[currentAlignCssPositionProp]) {\n                properAlign = oppositeAligns[align];\n            }\n        }\n    }\n    else {\n        const possibleAlternativeAlignCssPositionProp1 = position === 'bottom' || position === 'top' ? 'left' : 'top';\n        const possibleAlternativeAlignCssPositionProp2 = oppositionPositions[possibleAlternativeAlignCssPositionProp1];\n        const alternativeAlignCssSizeProp = propToCompare[possibleAlternativeAlignCssPositionProp1];\n        const followerOverTargetSize = (followerRect[alternativeAlignCssSizeProp] -\n            targetRect[alternativeAlignCssSizeProp]) /\n            2;\n        if (\n        // center is not enough\n        // ----------- [ target ]--|\n        // -------[     follower     ]\n        targetRect[possibleAlternativeAlignCssPositionProp1] <\n            followerOverTargetSize ||\n            targetRect[possibleAlternativeAlignCssPositionProp2] <\n                followerOverTargetSize) {\n            // alternative 2 position's space is larger\n            if (targetRect[possibleAlternativeAlignCssPositionProp1] >\n                targetRect[possibleAlternativeAlignCssPositionProp2]) {\n                properAlign =\n                    cssPositionToOppositeAlign[possibleAlternativeAlignCssPositionProp1];\n                properOffset = deriveOffset(alternativeAlignCssSizeProp, possibleAlternativeAlignCssPositionProp1, offsetVertically);\n            }\n            else {\n                // alternative 1 position's space is larger\n                properAlign =\n                    cssPositionToOppositeAlign[possibleAlternativeAlignCssPositionProp2];\n                properOffset = deriveOffset(alternativeAlignCssSizeProp, possibleAlternativeAlignCssPositionProp2, offsetVertically);\n            }\n        }\n    }\n    let properPosition = position;\n    if (\n    // space is not enough\n    targetRect[position] < followerRect[propToCompare[position]] &&\n        // opposite position's space is larger\n        targetRect[position] < targetRect[oppositionPositions[position]]) {\n        properPosition = oppositionPositions[position];\n    }\n    return {\n        placement: properAlign !== 'center'\n            ? `${properPosition}-${properAlign}`\n            : properPosition,\n        left: properOffset.left,\n        top: properOffset.top\n    };\n}\nexport function getProperTransformOrigin(placement, overlap) {\n    if (overlap)\n        return overlapTransformOrigin[placement];\n    return transformOrigins[placement];\n}\n// ------------\n// |  offset  |\n// |          |\n// | [target] |\n// |          |\n// ------------\n// TODO: refactor it to remove dup logic\nexport function getOffset(placement, offsetRect, targetRect, offsetTopToStandardPlacement, offsetLeftToStandardPlacement, overlap) {\n    if (overlap) {\n        switch (placement) {\n            case 'bottom-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-100%)'\n                };\n            case 'bottom-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-100%)'\n                };\n            case 'top-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: ''\n                };\n            case 'top-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%)'\n                };\n            case 'right-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%)'\n                };\n            case 'right-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-100%)'\n                };\n            case 'left-start':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: ''\n                };\n            case 'left-end':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-100%)'\n                };\n            case 'top':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                    transform: 'translateX(-50%)'\n                };\n            case 'right':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width)}px`,\n                    transform: 'translateX(-100%) translateY(-50%)'\n                };\n            case 'left':\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height / 2)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left)}px`,\n                    transform: 'translateY(-50%)'\n                };\n            case 'bottom':\n            default:\n                return {\n                    top: `${Math.round(targetRect.top - offsetRect.top + targetRect.height)}px`,\n                    left: `${Math.round(targetRect.left - offsetRect.left + targetRect.width / 2)}px`,\n                    transform: 'translateX(-50%) translateY(-100%)'\n                };\n        }\n    }\n    switch (placement) {\n        case 'bottom-start':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: ''\n            };\n        case 'bottom-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%)'\n            };\n        case 'top-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%)'\n            };\n        case 'top-end':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%) translateY(-100%)'\n            };\n        case 'right-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: ''\n            };\n        case 'right-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%)'\n            };\n        case 'left-start':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%)'\n            };\n        case 'left-end':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-100%) translateY(-100%)'\n            };\n        case 'top':\n            return {\n                top: `${Math.round(targetRect.top - offsetRect.top + offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width / 2 +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-100%) translateX(-50%)'\n            };\n        case 'right':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height / 2 +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-50%)'\n            };\n        case 'left':\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height / 2 +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left - offsetRect.left + offsetLeftToStandardPlacement)}px`,\n                transform: 'translateY(-50%) translateX(-100%)'\n            };\n        case 'bottom':\n        default:\n            return {\n                top: `${Math.round(targetRect.top -\n                    offsetRect.top +\n                    targetRect.height +\n                    offsetTopToStandardPlacement)}px`,\n                left: `${Math.round(targetRect.left -\n                    offsetRect.left +\n                    targetRect.width / 2 +\n                    offsetLeftToStandardPlacement)}px`,\n                transform: 'translateX(-50%)'\n            };\n    }\n}\n", "/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, defineComponent, inject, nextTick, watch, toRef, ref, onMounted, onBeforeUnmount, withDirectives } from 'vue';\nimport { zindexable } from 'vdirs';\nimport { useMemo, useIsMounted, onFontsReady } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { c, cssrAnchorMetaName } from '../../shared';\nimport LazyTeleport from '../../lazy-teleport/src/index';\nimport { getPlacementAndOffsetOfFollower, getProperTransformOrigin, getOffset } from './get-placement-style';\nimport { getPointRect, getRect } from './utils';\nconst style = c([\n    c('.v-binder-follower-container', {\n        position: 'absolute',\n        left: '0',\n        right: '0',\n        top: '0',\n        height: '0',\n        pointerEvents: 'none',\n        zIndex: 'auto'\n    }),\n    c('.v-binder-follower-content', {\n        position: 'absolute',\n        zIndex: 'auto'\n    }, [\n        c('> *', {\n            pointerEvents: 'all'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'Follower',\n    inheritAttrs: false,\n    props: {\n        show: Boolean,\n        enabled: {\n            type: Boolean,\n            default: undefined\n        },\n        placement: {\n            type: String,\n            default: 'bottom'\n        },\n        syncTrigger: {\n            type: Array,\n            default: ['resize', 'scroll']\n        },\n        to: [String, Object],\n        flip: {\n            type: Boolean,\n            default: true\n        },\n        internalShift: Boolean,\n        x: Number,\n        y: Number,\n        width: String,\n        minWidth: String,\n        containerClass: String,\n        teleportDisabled: Boolean,\n        zindexable: {\n            type: Boolean,\n            default: true\n        },\n        zIndex: Number,\n        overlap: Boolean\n    },\n    setup(props) {\n        const VBinder = inject('VBinder');\n        const mergedEnabledRef = useMemo(() => {\n            return props.enabled !== undefined ? props.enabled : props.show;\n        });\n        const followerRef = ref(null);\n        const offsetContainerRef = ref(null);\n        const ensureListeners = () => {\n            const { syncTrigger } = props;\n            if (syncTrigger.includes('scroll')) {\n                VBinder.addScrollListener(syncPosition);\n            }\n            if (syncTrigger.includes('resize')) {\n                VBinder.addResizeListener(syncPosition);\n            }\n        };\n        const removeListeners = () => {\n            VBinder.removeScrollListener(syncPosition);\n            VBinder.removeResizeListener(syncPosition);\n        };\n        onMounted(() => {\n            if (mergedEnabledRef.value) {\n                syncPosition();\n                ensureListeners();\n            }\n        });\n        const ssrAdapter = useSsrAdapter();\n        style.mount({\n            id: 'vueuc/binder',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onBeforeUnmount(() => {\n            removeListeners();\n        });\n        onFontsReady(() => {\n            if (mergedEnabledRef.value) {\n                syncPosition();\n            }\n        });\n        const syncPosition = () => {\n            if (!mergedEnabledRef.value) {\n                return;\n            }\n            const follower = followerRef.value;\n            // sometimes watched props change before its dom is ready\n            // for example: show=false, x=undefined, y=undefined\n            //              show=true,  x=0,         y=0\n            // will cause error\n            // I may optimize the watch start point later\n            if (follower === null)\n                return;\n            const target = VBinder.targetRef;\n            const { x, y, overlap } = props;\n            const targetRect = x !== undefined && y !== undefined\n                ? getPointRect(x, y)\n                : getRect(target);\n            follower.style.setProperty('--v-target-width', `${Math.round(targetRect.width)}px`);\n            follower.style.setProperty('--v-target-height', `${Math.round(targetRect.height)}px`);\n            const { width, minWidth, placement, internalShift, flip } = props;\n            follower.setAttribute('v-placement', placement);\n            if (overlap) {\n                follower.setAttribute('v-overlap', '');\n            }\n            else {\n                follower.removeAttribute('v-overlap');\n            }\n            const { style } = follower;\n            if (width === 'target') {\n                style.width = `${targetRect.width}px`;\n            }\n            else if (width !== undefined) {\n                style.width = width;\n            }\n            else {\n                style.width = '';\n            }\n            if (minWidth === 'target') {\n                style.minWidth = `${targetRect.width}px`;\n            }\n            else if (minWidth !== undefined) {\n                style.minWidth = minWidth;\n            }\n            else {\n                style.minWidth = '';\n            }\n            const followerRect = getRect(follower);\n            const offsetContainerRect = getRect(offsetContainerRef.value);\n            const { left: offsetLeftToStandardPlacement, top: offsetTopToStandardPlacement, placement: properPlacement } = getPlacementAndOffsetOfFollower(placement, targetRect, followerRect, internalShift, flip, overlap);\n            const properTransformOrigin = getProperTransformOrigin(properPlacement, overlap);\n            const { left, top, transform } = getOffset(properPlacement, offsetContainerRect, targetRect, offsetTopToStandardPlacement, offsetLeftToStandardPlacement, overlap);\n            // we assume that the content size doesn't change after flip,\n            // nor we need to make sync logic more complex\n            follower.setAttribute('v-placement', properPlacement);\n            follower.style.setProperty('--v-offset-left', `${Math.round(offsetLeftToStandardPlacement)}px`);\n            follower.style.setProperty('--v-offset-top', `${Math.round(offsetTopToStandardPlacement)}px`);\n            follower.style.transform = `translateX(${left}) translateY(${top}) ${transform}`;\n            follower.style.setProperty('--v-transform-origin', properTransformOrigin);\n            follower.style.transformOrigin = properTransformOrigin;\n        };\n        watch(mergedEnabledRef, (value) => {\n            if (value) {\n                ensureListeners();\n                syncOnNextTick();\n            }\n            else {\n                removeListeners();\n            }\n        });\n        const syncOnNextTick = () => {\n            nextTick()\n                .then(syncPosition)\n                .catch((e) => console.error(e));\n        };\n        [\n            'placement',\n            'x',\n            'y',\n            'internalShift',\n            'flip',\n            'width',\n            'overlap',\n            'minWidth'\n        ].forEach((prop) => {\n            watch(toRef(props, prop), syncPosition);\n        });\n        ['teleportDisabled'].forEach((prop) => {\n            watch(toRef(props, prop), syncOnNextTick);\n        });\n        watch(toRef(props, 'syncTrigger'), (value) => {\n            if (!value.includes('resize')) {\n                VBinder.removeResizeListener(syncPosition);\n            }\n            else {\n                VBinder.addResizeListener(syncPosition);\n            }\n            if (!value.includes('scroll')) {\n                VBinder.removeScrollListener(syncPosition);\n            }\n            else {\n                VBinder.addScrollListener(syncPosition);\n            }\n        });\n        const isMountedRef = useIsMounted();\n        const mergedToRef = useMemo(() => {\n            const { to } = props;\n            if (to !== undefined)\n                return to;\n            if (isMountedRef.value) {\n                // TODO: find proper container\n                return undefined;\n            }\n            return undefined;\n        });\n        return {\n            VBinder,\n            mergedEnabled: mergedEnabledRef,\n            offsetContainerRef,\n            followerRef,\n            mergedTo: mergedToRef,\n            syncPosition\n        };\n    },\n    render() {\n        return h(LazyTeleport, {\n            show: this.show,\n            to: this.mergedTo,\n            disabled: this.teleportDisabled\n        }, {\n            default: () => {\n                var _a, _b;\n                const vNode = h('div', {\n                    class: ['v-binder-follower-container', this.containerClass],\n                    ref: 'offsetContainerRef'\n                }, [\n                    h('div', {\n                        class: 'v-binder-follower-content',\n                        ref: 'followerRef'\n                    }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a))\n                ]);\n                if (this.zindexable) {\n                    return withDirectives(vNode, [\n                        [\n                            zindexable,\n                            {\n                                enabled: this.mergedEnabled,\n                                zIndex: this.zIndex\n                            }\n                        ]\n                    ]);\n                }\n                return vNode;\n            }\n        });\n    }\n});\n", "var resizeObservers = [];\nexport { resizeObservers };\n", "import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n", "import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n", "var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n", "var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n", "export var freeze = function (obj) { return Object.freeze(obj); };\n", "import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n", "import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n", "var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a, _b;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n", "export var global = typeof window !== 'undefined' ? window : {};\n", "import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n", "import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n", "import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n", "import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n", "import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n", "import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n", "var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n", "import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n", "import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n", "import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n", "var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n", "import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n", "import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n", "import { ResizeObserver } from '@juggle/resize-observer';\nclass ResizeObserverDelegate {\n    constructor() {\n        this.handleResize = this.handleResize.bind(this);\n        this.observer = new ResizeObserver(this.handleResize);\n        this.elHandlersMap = new Map();\n    }\n    handleResize(entries) {\n        for (const entry of entries) {\n            const handler = this.elHandlersMap.get(entry.target);\n            if (handler !== undefined) {\n                handler(entry);\n            }\n        }\n    }\n    registerHandler(el, handler) {\n        this.elHandlersMap.set(el, handler);\n        this.observer.observe(el);\n    }\n    unregisterHandler(el) {\n        if (!this.elHandlersMap.has(el)) {\n            return;\n        }\n        this.elHandlersMap.delete(el);\n        this.observer.unobserve(el);\n    }\n}\nexport default new ResizeObserverDelegate();\n", "import { defineComponent, renderSlot, getCurrentInstance, onMounted, onBeforeUnmount } from 'vue';\nimport delegate from './delegate';\nimport { warn } from '../../shared';\nexport default defineComponent({\n    name: 'ResizeObserver',\n    props: {\n        onResize: Function\n    },\n    setup(props) {\n        let registered = false;\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const proxy = getCurrentInstance().proxy;\n        function handleResize(entry) {\n            const { onResize } = props;\n            if (onResize !== undefined)\n                onResize(entry);\n        }\n        onMounted(() => {\n            const el = proxy.$el;\n            if (el === undefined) {\n                warn('resize-observer', '$el does not exist.');\n                return;\n            }\n            if (el.nextElementSibling !== el.nextSibling) {\n                if (el.nodeType === 3 && el.nodeValue !== '') {\n                    warn('resize-observer', '$el can not be observed (it may be a text node).');\n                    return;\n                }\n            }\n            if (el.nextElementSibling !== null) {\n                delegate.registerHandler(el.nextElementSibling, handleResize);\n                registered = true;\n            }\n        });\n        onBeforeUnmount(() => {\n            if (registered) {\n                delegate.unregisterHandler(proxy.$el.nextElementSibling);\n            }\n        });\n    },\n    render() {\n        return renderSlot(this.$slots, 'default');\n    }\n});\n", "let maybeTouch;\nexport function ensureMaybeTouch() {\n    if (maybeTouch === undefined) {\n        if ('matchMedia' in window) {\n            maybeTouch = window.matchMedia('(pointer:coarse)').matches;\n        }\n        else {\n            maybeTouch = false;\n        }\n    }\n    return maybeTouch;\n}\nlet wheelScale;\nexport function ensureWheelScale() {\n    if (wheelScale === undefined) {\n        wheelScale = 'chrome' in window\n            ? window.devicePixelRatio\n            : 1;\n    }\n    return wheelScale;\n}\n", "/* eslint-disable no-void */\n/* eslint-disable @typescript-eslint/restrict-plus-operands */\nimport { mergeProps, computed, defineComponent, ref, onMounted, h, onActivated, onDeactivated } from 'vue';\nimport { beforeNextFrameOnce, depx, pxfy } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport VResizeObserver from '../../resize-observer/src/VResizeObserver';\nimport { c, cssrAnchorMetaName, FinweckTree } from '../../shared';\nimport { ensureMaybeTouch, ensureWheelScale } from './config';\nconst styles = c('.v-vl', {\n    maxHeight: 'inherit',\n    height: '100%',\n    overflow: 'auto',\n    minWidth: '1px' // a zero width container won't be scrollable\n}, [\n    c('&:not(.v-vl--show-scrollbar)', {\n        scrollbarWidth: 'none'\n    }, [\n        c('&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb', {\n            width: 0,\n            height: 0,\n            display: 'none'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'VirtualList',\n    inheritAttrs: false,\n    props: {\n        showScrollbar: {\n            type: Boolean,\n            default: true\n        },\n        items: {\n            type: Array,\n            default: () => []\n        },\n        // it is suppose to be the min height\n        itemSize: {\n            type: Number,\n            required: true\n        },\n        itemResizable: Boolean,\n        itemsStyle: [String, Object],\n        visibleItemsTag: {\n            type: [String, Object],\n            default: 'div'\n        },\n        visibleItemsProps: Object,\n        ignoreItemResize: Boolean,\n        onScroll: Function,\n        onWheel: Function,\n        onResize: Function,\n        defaultScrollKey: [Number, String],\n        defaultScrollIndex: Number,\n        keyField: {\n            type: String,\n            default: 'key'\n        },\n        // Whether it is a good API?\n        // ResizeObserver + footer & header is not enough.\n        // Too complex for simple case\n        paddingTop: {\n            type: [Number, String],\n            default: 0\n        },\n        paddingBottom: {\n            type: [Number, String],\n            default: 0\n        }\n    },\n    setup(props) {\n        const ssrAdapter = useSsrAdapter();\n        styles.mount({\n            id: 'vueuc/virtual-list',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(() => {\n            const { defaultScrollIndex, defaultScrollKey } = props;\n            if (defaultScrollIndex !== undefined && defaultScrollIndex !== null) {\n                scrollTo({ index: defaultScrollIndex });\n            }\n            else if (defaultScrollKey !== undefined && defaultScrollKey !== null) {\n                scrollTo({ key: defaultScrollKey });\n            }\n        });\n        let isDeactivated = false;\n        let activateStateInitialized = false;\n        onActivated(() => {\n            isDeactivated = false;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n                return;\n            }\n            // remount\n            scrollTo({ top: scrollTopRef.value, left: scrollLeft });\n        });\n        onDeactivated(() => {\n            isDeactivated = true;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n            }\n        });\n        const keyIndexMapRef = computed(() => {\n            const map = new Map();\n            const { keyField } = props;\n            props.items.forEach((item, index) => {\n                map.set(item[keyField], index);\n            });\n            return map;\n        });\n        const listElRef = ref(null);\n        const listHeightRef = ref(undefined);\n        const keyToHeightOffset = new Map();\n        const finweckTreeRef = computed(() => {\n            const { items, itemSize, keyField } = props;\n            const ft = new FinweckTree(items.length, itemSize);\n            items.forEach((item, index) => {\n                const key = item[keyField];\n                const heightOffset = keyToHeightOffset.get(key);\n                if (heightOffset !== undefined) {\n                    ft.add(index, heightOffset);\n                }\n            });\n            return ft;\n        });\n        const finweckTreeUpdateTrigger = ref(0);\n        let scrollLeft = 0;\n        const scrollTopRef = ref(0);\n        const startIndexRef = useMemo(() => {\n            return Math.max(finweckTreeRef.value.getBound(scrollTopRef.value - depx(props.paddingTop)) - 1, 0);\n        });\n        const viewportItemsRef = computed(() => {\n            const { value: listHeight } = listHeightRef;\n            if (listHeight === undefined)\n                return [];\n            const { items, itemSize } = props;\n            const startIndex = startIndexRef.value;\n            const endIndex = Math.min(startIndex + Math.ceil(listHeight / itemSize + 1), items.length - 1);\n            const viewportItems = [];\n            for (let i = startIndex; i <= endIndex; ++i) {\n                viewportItems.push(items[i]);\n            }\n            return viewportItems;\n        });\n        const scrollTo = (options, y) => {\n            if (typeof options === 'number') {\n                scrollToPosition(options, y, 'auto');\n                return;\n            }\n            const { left, top, index, key, position, behavior, debounce = true } = options;\n            if (left !== undefined || top !== undefined) {\n                scrollToPosition(left, top, behavior);\n            }\n            else if (index !== undefined) {\n                scrollToIndex(index, behavior, debounce);\n            }\n            else if (key !== undefined) {\n                const toIndex = keyIndexMapRef.value.get(key);\n                if (toIndex !== undefined)\n                    scrollToIndex(toIndex, behavior, debounce);\n            }\n            else if (position === 'bottom') {\n                scrollToPosition(0, Number.MAX_SAFE_INTEGER, behavior);\n            }\n            else if (position === 'top') {\n                scrollToPosition(0, 0, behavior);\n            }\n        };\n        let anchorIndex;\n        let anchorTimerId = null;\n        function scrollToIndex(index, behavior, debounce) {\n            const { value: ft } = finweckTreeRef;\n            const targetTop = ft.sum(index) + depx(props.paddingTop);\n            if (!debounce) {\n                listElRef.value.scrollTo({\n                    left: 0,\n                    top: targetTop,\n                    behavior\n                });\n            }\n            else {\n                anchorIndex = index;\n                if (anchorTimerId !== null) {\n                    window.clearTimeout(anchorTimerId);\n                }\n                anchorTimerId = window.setTimeout(() => {\n                    anchorIndex = undefined;\n                    anchorTimerId = null;\n                }, 16); // use 0 ms may be ealier than resize callback...\n                const { scrollTop, offsetHeight } = listElRef.value;\n                if (targetTop > scrollTop) {\n                    const itemSize = ft.get(index);\n                    if (targetTop + itemSize <= scrollTop + offsetHeight) {\n                        // do nothing\n                    }\n                    else {\n                        listElRef.value.scrollTo({\n                            left: 0,\n                            top: targetTop + itemSize - offsetHeight,\n                            behavior\n                        });\n                    }\n                }\n                else {\n                    listElRef.value.scrollTo({\n                        left: 0,\n                        top: targetTop,\n                        behavior\n                    });\n                }\n            }\n        }\n        function scrollToPosition(left, top, behavior) {\n            listElRef.value.scrollTo({\n                left,\n                top,\n                behavior\n            });\n        }\n        function handleItemResize(key, entry) {\n            var _a, _b, _c;\n            if (isDeactivated)\n                return;\n            if (props.ignoreItemResize)\n                return;\n            if (isHideByVShow(entry.target))\n                return;\n            const { value: ft } = finweckTreeRef;\n            const index = keyIndexMapRef.value.get(key);\n            const previousHeight = ft.get(index);\n            const height = (_c = (_b = (_a = entry.borderBoxSize) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.blockSize) !== null && _c !== void 0 ? _c : entry.contentRect.height;\n            if (height === previousHeight)\n                return;\n            // height offset based on itemSize\n            // used when rebuild the finweck tree\n            const offset = height - props.itemSize;\n            if (offset === 0) {\n                keyToHeightOffset.delete(key);\n            }\n            else {\n                keyToHeightOffset.set(key, height - props.itemSize);\n            }\n            // delta height based on finweck tree data\n            const delta = height - previousHeight;\n            if (delta === 0)\n                return;\n            ft.add(index, delta);\n            const listEl = listElRef.value;\n            if (listEl != null) {\n                if (anchorIndex === undefined) {\n                    const previousHeightSum = ft.sum(index);\n                    if (listEl.scrollTop > previousHeightSum) {\n                        listEl.scrollBy(0, delta);\n                    }\n                }\n                else {\n                    if (index < anchorIndex) {\n                        listEl.scrollBy(0, delta);\n                    }\n                    else if (index === anchorIndex) {\n                        const previousHeightSum = ft.sum(index);\n                        if (height + previousHeightSum >\n                            // Note, listEl shouldn't have border, nor offsetHeight won't be\n                            // correct\n                            listEl.scrollTop + listEl.offsetHeight) {\n                            listEl.scrollBy(0, delta);\n                        }\n                    }\n                }\n                syncViewport();\n            }\n            finweckTreeUpdateTrigger.value++;\n        }\n        const mayUseWheel = !ensureMaybeTouch();\n        let wheelCatched = false;\n        function handleListScroll(e) {\n            var _a;\n            (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (!mayUseWheel || !wheelCatched) {\n                syncViewport();\n            }\n        }\n        function handleListWheel(e) {\n            var _a;\n            (_a = props.onWheel) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (mayUseWheel) {\n                e.preventDefault();\n                const listEl = listElRef.value;\n                if (listEl != null) {\n                    listEl.scrollTop += e.deltaY / ensureWheelScale();\n                    listEl.scrollLeft += e.deltaX / ensureWheelScale();\n                    syncViewport();\n                    wheelCatched = true;\n                    beforeNextFrameOnce(() => {\n                        wheelCatched = false;\n                    });\n                }\n            }\n        }\n        function handleListResize(entry) {\n            if (isDeactivated)\n                return;\n            // List is HTMLElement\n            if (isHideByVShow(entry.target))\n                return;\n            // If height is same, return\n            if (entry.contentRect.height === listHeightRef.value)\n                return;\n            listHeightRef.value = entry.contentRect.height;\n            const { onResize } = props;\n            if (onResize !== undefined)\n                onResize(entry);\n        }\n        function syncViewport() {\n            const { value: listEl } = listElRef;\n            // sometime ref el can be null\n            // https://github.com/TuSimple/naive-ui/issues/811\n            if (listEl == null)\n                return;\n            scrollTopRef.value = listEl.scrollTop;\n            scrollLeft = listEl.scrollLeft;\n        }\n        function isHideByVShow(el) {\n            let cursor = el;\n            while (cursor !== null) {\n                if (cursor.style.display === 'none')\n                    return true;\n                cursor = cursor.parentElement;\n            }\n            return false;\n        }\n        return {\n            listHeight: listHeightRef,\n            listStyle: {\n                overflow: 'auto'\n            },\n            keyToIndex: keyIndexMapRef,\n            itemsStyle: computed(() => {\n                const { itemResizable } = props;\n                const height = pxfy(finweckTreeRef.value.sum());\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return [\n                    props.itemsStyle,\n                    {\n                        boxSizing: 'content-box',\n                        height: itemResizable ? '' : height,\n                        minHeight: itemResizable ? height : '',\n                        paddingTop: pxfy(props.paddingTop),\n                        paddingBottom: pxfy(props.paddingBottom)\n                    }\n                ];\n            }),\n            visibleItemsStyle: computed(() => {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return {\n                    transform: `translateY(${pxfy(finweckTreeRef.value.sum(startIndexRef.value))})`\n                };\n            }),\n            viewportItems: viewportItemsRef,\n            listElRef,\n            itemsElRef: ref(null),\n            scrollTo,\n            handleListResize,\n            handleListScroll,\n            handleListWheel,\n            handleItemResize\n        };\n    },\n    render() {\n        const { itemResizable, keyField, keyToIndex, visibleItemsTag } = this;\n        return h(VResizeObserver, {\n            onResize: this.handleListResize\n        }, {\n            default: () => {\n                var _a, _b;\n                return h('div', mergeProps(this.$attrs, {\n                    class: ['v-vl', this.showScrollbar && 'v-vl--show-scrollbar'],\n                    onScroll: this.handleListScroll,\n                    onWheel: this.handleListWheel,\n                    ref: 'listElRef'\n                }), [\n                    this.items.length !== 0\n                        ? h('div', {\n                            ref: 'itemsElRef',\n                            class: 'v-vl-items',\n                            style: this.itemsStyle\n                        }, [\n                            h(visibleItemsTag, Object.assign({\n                                class: 'v-vl-visible-items',\n                                style: this.visibleItemsStyle\n                            }, this.visibleItemsProps), {\n                                default: () => this.viewportItems.map((item) => {\n                                    const key = item[keyField];\n                                    const index = keyToIndex.get(key);\n                                    const itemVNode = this.$slots.default({\n                                        item,\n                                        index\n                                    })[0];\n                                    if (itemResizable) {\n                                        return h(VResizeObserver, {\n                                            key,\n                                            onResize: (entry) => this.handleItemResize(key, entry)\n                                        }, {\n                                            default: () => itemVNode\n                                        });\n                                    }\n                                    itemVNode.key = key;\n                                    return itemVNode;\n                                })\n                            })\n                        ])\n                        : (_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)\n                ]);\n            }\n        });\n    }\n});\n", "import { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { defineComponent, h, ref } from 'vue';\nimport { c, cssrAnchorMetaName } from '../../shared';\nconst styles = c('.v-x-scroll', {\n    overflow: 'auto',\n    scrollbarWidth: 'none'\n}, [\n    c('&::-webkit-scrollbar', {\n        width: 0,\n        height: 0\n    })\n]);\nexport default defineComponent({\n    name: 'XScroll',\n    props: {\n        disabled: Boolean,\n        onScroll: Function\n    },\n    setup() {\n        const selfRef = ref(null);\n        function handleWheel(e) {\n            const preventYWheel = e.currentTarget.offsetWidth <\n                e.currentTarget.scrollWidth;\n            if (!preventYWheel || e.deltaY === 0)\n                return;\n            e.currentTarget.scrollLeft += e.deltaY + e.deltaX;\n            e.preventDefault();\n        }\n        const ssrAdapter = useSsrAdapter();\n        styles.mount({\n            id: 'vueuc/x-scroll',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        const exposedMethods = {\n            scrollTo(...args) {\n                var _a;\n                (_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(...args);\n            }\n        };\n        return Object.assign({ selfRef,\n            handleWheel }, exposedMethods);\n    },\n    render() {\n        return h('div', {\n            ref: 'selfRef',\n            onScroll: this.onScroll,\n            onWheel: this.disabled ? undefined : this.handleWheel,\n            class: 'v-x-scroll'\n        }, this.$slots);\n    }\n});\n", "/* eslint-disable @typescript-eslint/strict-boolean-expressions */\nimport { defineComponent, renderSlot, h, onMounted, ref, nextTick } from 'vue';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { c, cssrAnchorMetaName } from '../../shared';\nconst hiddenAttr = 'v-hidden';\nconst style = c('[v-hidden]', {\n    display: 'none!important'\n});\nexport default defineComponent({\n    name: 'Overflow',\n    props: {\n        getCounter: Function,\n        getTail: Function,\n        updateCounter: Function,\n        onUpdateOverflow: Function\n    },\n    setup(props, { slots }) {\n        const selfRef = ref(null);\n        const counterRef = ref(null);\n        function deriveCounter() {\n            const { value: self } = selfRef;\n            const { getCounter, getTail } = props;\n            let counter;\n            if (getCounter !== undefined)\n                counter = getCounter();\n            else {\n                counter = counterRef.value;\n            }\n            if (!self || !counter)\n                return;\n            if (counter.hasAttribute(hiddenAttr)) {\n                counter.removeAttribute(hiddenAttr);\n            }\n            const { children } = self;\n            const containerWidth = self.offsetWidth;\n            const childWidths = [];\n            const tail = slots.tail ? getTail === null || getTail === void 0 ? void 0 : getTail() : null;\n            let childWidthSum = tail ? tail.offsetWidth : 0;\n            let overflow = false;\n            const len = self.children.length - (slots.tail ? 1 : 0);\n            for (let i = 0; i < len - 1; ++i) {\n                if (i < 0)\n                    continue;\n                const child = children[i];\n                if (overflow) {\n                    if (!child.hasAttribute(hiddenAttr)) {\n                        child.setAttribute(hiddenAttr, '');\n                    }\n                    continue;\n                }\n                else if (child.hasAttribute(hiddenAttr)) {\n                    child.removeAttribute(hiddenAttr);\n                }\n                const childWidth = child.offsetWidth;\n                childWidthSum += childWidth;\n                childWidths[i] = childWidth;\n                if (childWidthSum > containerWidth) {\n                    const { updateCounter } = props;\n                    for (let j = i; j >= 0; --j) {\n                        const restCount = len - 1 - j;\n                        if (updateCounter !== undefined) {\n                            updateCounter(restCount);\n                        }\n                        else {\n                            counter.textContent = `${restCount}`;\n                        }\n                        const counterWidth = counter.offsetWidth;\n                        childWidthSum -= childWidths[j];\n                        if (childWidthSum + counterWidth <= containerWidth || j === 0) {\n                            overflow = true;\n                            i = j - 1;\n                            if (tail) {\n                                // tail too long or 1st element too long\n                                // we only consider tail now\n                                if (i === -1) {\n                                    tail.style.maxWidth = `${containerWidth - counterWidth}px`;\n                                    tail.style.boxSizing = 'border-box';\n                                }\n                                else {\n                                    tail.style.maxWidth = '';\n                                }\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n            const { onUpdateOverflow } = props;\n            if (!overflow) {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(false);\n                }\n                counter.setAttribute(hiddenAttr, '');\n            }\n            else {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(true);\n                }\n            }\n        }\n        const ssrAdapter = useSsrAdapter();\n        style.mount({\n            id: 'vueuc/overflow',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(deriveCounter);\n        // besides onMounted, other case should be manually triggered, or we shoud watch items\n        return {\n            selfRef,\n            counterRef,\n            sync: deriveCounter\n        };\n    },\n    render() {\n        const { $slots } = this;\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        nextTick(this.sync);\n        // It shouldn't have border\n        return h('div', {\n            class: 'v-overflow',\n            ref: 'selfRef'\n        }, [\n            renderSlot($slots, 'default'),\n            // $slots.counter should only has 1 element\n            $slots.counter\n                ? $slots.counter()\n                : h('span', {\n                    style: {\n                        display: 'inline-block'\n                    },\n                    ref: 'counterRef'\n                }),\n            // $slots.tail should only has 1 element\n            $slots.tail ? $slots.tail() : null\n        ]);\n    }\n});\n", "/* eslint-disable @typescript-eslint/strict-boolean-expressions */\n// ref https://www.w3.org/TR/wai-aria-practices-1.1/examples/dialog-modal/js/dialog.js\nfunction isHTMLElement(node) {\n    return node instanceof HTMLElement;\n}\nexport function focusFirstDescendant(node) {\n    for (let i = 0; i < node.childNodes.length; i++) {\n        const child = node.childNodes[i];\n        if (isHTMLElement(child)) {\n            if (attemptFocus(child) || focusFirstDescendant(child)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nexport function focusLastDescendant(element) {\n    for (let i = element.childNodes.length - 1; i >= 0; i--) {\n        const child = element.childNodes[i];\n        if (isHTMLElement(child)) {\n            if (attemptFocus(child) || focusLastDescendant(child)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction attemptFocus(element) {\n    if (!isFocusable(element)) {\n        return false;\n    }\n    try {\n        element.focus({ preventScroll: true });\n    }\n    catch (e) { }\n    return document.activeElement === element;\n}\nfunction isFocusable(element) {\n    if (element.tabIndex > 0 ||\n        (element.tabIndex === 0 && element.getAttribute('tabIndex') !== null)) {\n        return true;\n    }\n    if (element.getAttribute('disabled')) {\n        return false;\n    }\n    switch (element.nodeName) {\n        case 'A':\n            return (!!element.href &&\n                element.rel !== 'ignore');\n        case 'INPUT':\n            return (element.type !== 'hidden' &&\n                element.type !== 'file');\n        case 'BUTTON':\n        case 'SELECT':\n        case 'TEXTAREA':\n            return true;\n        default:\n            return false;\n    }\n}\n", "import { h, defineComponent, ref, Fragment, onMounted, onBeforeUnmount, watch } from 'vue';\nimport { createId } from 'seemly';\nimport { on, off } from 'evtd';\nimport { focusFirstDescendant, focusLastDescendant } from './utils';\nimport { resolveTo } from '../../shared';\nlet stack = [];\nexport const FocusTrap = defineComponent({\n    name: 'FocusTrap',\n    props: {\n        disabled: Boolean,\n        active: Boolean,\n        autoFocus: {\n            type: Boolean,\n            default: true\n        },\n        onEsc: Function,\n        initialFocusTo: String,\n        finalFocusTo: String,\n        returnFocusOnDeactivated: {\n            type: Boolean,\n            default: true\n        }\n    },\n    setup(props) {\n        const id = createId();\n        const focusableStartRef = ref(null);\n        const focusableEndRef = ref(null);\n        let activated = false;\n        let ignoreInternalFocusChange = false;\n        const lastFocusedElement = document.activeElement;\n        function isCurrentActive() {\n            const currentActiveId = stack[stack.length - 1];\n            return currentActiveId === id;\n        }\n        function handleDocumentKeydown(e) {\n            var _a;\n            if (e.code === 'Escape') {\n                if (isCurrentActive()) {\n                    (_a = props.onEsc) === null || _a === void 0 ? void 0 : _a.call(props, e);\n                }\n            }\n        }\n        onMounted(() => {\n            watch(() => props.active, (value) => {\n                if (value) {\n                    activate();\n                    on('keydown', document, handleDocumentKeydown);\n                }\n                else {\n                    off('keydown', document, handleDocumentKeydown);\n                    if (activated) {\n                        deactivate();\n                    }\n                }\n            }, {\n                immediate: true\n            });\n        });\n        onBeforeUnmount(() => {\n            off('keydown', document, handleDocumentKeydown);\n            if (activated)\n                deactivate();\n        });\n        function handleDocumentFocus(e) {\n            if (ignoreInternalFocusChange)\n                return;\n            if (isCurrentActive()) {\n                const mainEl = getMainEl();\n                if (mainEl === null)\n                    return;\n                if (mainEl.contains(e.target))\n                    return;\n                // I don't handle shift + tab status since it's too tricky to handle\n                // Not impossible but I need to sleep\n                resetFocusTo('first');\n            }\n        }\n        function getMainEl() {\n            const focusableStartEl = focusableStartRef.value;\n            if (focusableStartEl === null)\n                return null;\n            let mainEl = focusableStartEl;\n            while (true) {\n                mainEl = mainEl.nextSibling;\n                if (mainEl === null)\n                    break;\n                if (mainEl instanceof Element && mainEl.tagName === 'DIV') {\n                    break;\n                }\n            }\n            return mainEl;\n        }\n        function activate() {\n            var _a;\n            if (props.disabled)\n                return;\n            stack.push(id);\n            if (props.autoFocus) {\n                const { initialFocusTo } = props;\n                if (initialFocusTo === undefined) {\n                    resetFocusTo('first');\n                }\n                else {\n                    (_a = resolveTo(initialFocusTo)) === null || _a === void 0 ? void 0 : _a.focus({ preventScroll: true });\n                }\n            }\n            activated = true;\n            document.addEventListener('focus', handleDocumentFocus, true);\n        }\n        function deactivate() {\n            var _a;\n            if (props.disabled)\n                return;\n            document.removeEventListener('focus', handleDocumentFocus, true);\n            stack = stack.filter((idInStack) => idInStack !== id);\n            if (isCurrentActive())\n                return;\n            const { finalFocusTo } = props;\n            if (finalFocusTo !== undefined) {\n                (_a = resolveTo(finalFocusTo)) === null || _a === void 0 ? void 0 : _a.focus({ preventScroll: true });\n            }\n            else if (props.returnFocusOnDeactivated) {\n                if (lastFocusedElement instanceof HTMLElement) {\n                    ignoreInternalFocusChange = true;\n                    lastFocusedElement.focus({ preventScroll: true });\n                    ignoreInternalFocusChange = false;\n                }\n            }\n        }\n        function resetFocusTo(target) {\n            if (!isCurrentActive())\n                return;\n            if (props.active) {\n                const focusableStartEl = focusableStartRef.value;\n                const focusableEndEl = focusableEndRef.value;\n                if (focusableStartEl !== null && focusableEndEl !== null) {\n                    const mainEl = getMainEl();\n                    if (mainEl == null || mainEl === focusableEndEl) {\n                        ignoreInternalFocusChange = true;\n                        focusableStartEl.focus({ preventScroll: true });\n                        ignoreInternalFocusChange = false;\n                        return;\n                    }\n                    ignoreInternalFocusChange = true;\n                    const focused = target === 'first'\n                        ? focusFirstDescendant(mainEl)\n                        : focusLastDescendant(mainEl);\n                    ignoreInternalFocusChange = false;\n                    if (!focused) {\n                        ignoreInternalFocusChange = true;\n                        focusableStartEl.focus({ preventScroll: true });\n                        ignoreInternalFocusChange = false;\n                    }\n                }\n            }\n        }\n        function handleStartFocus(e) {\n            if (ignoreInternalFocusChange)\n                return;\n            const mainEl = getMainEl();\n            if (mainEl === null)\n                return;\n            if (e.relatedTarget !== null && mainEl.contains(e.relatedTarget)) {\n                // if it comes from inner, focus last\n                resetFocusTo('last');\n            }\n            else {\n                // otherwise focus first\n                resetFocusTo('first');\n            }\n        }\n        function handleEndFocus(e) {\n            if (ignoreInternalFocusChange)\n                return;\n            if (e.relatedTarget !== null &&\n                e.relatedTarget === focusableStartRef.value) {\n                // if it comes from first, focus last\n                resetFocusTo('last');\n            }\n            else {\n                // otherwise focus first\n                resetFocusTo('first');\n            }\n        }\n        return {\n            focusableStartRef,\n            focusableEndRef,\n            focusableStyle: 'position: absolute; height: 0; width: 0;',\n            handleStartFocus,\n            handleEndFocus\n        };\n    },\n    render() {\n        const { default: defaultSlot } = this.$slots;\n        if (defaultSlot === undefined)\n            return null;\n        if (this.disabled)\n            return defaultSlot();\n        const { active, focusableStyle } = this;\n        return h(Fragment, null, [\n            h('div', {\n                'aria-hidden': 'true',\n                tabindex: active ? '0' : '-1',\n                ref: 'focusableStartRef',\n                style: focusableStyle,\n                onFocus: this.handleStartFocus\n            }),\n            defaultSlot(),\n            h('div', {\n                'aria-hidden': 'true',\n                style: focusableStyle,\n                ref: 'focusableEndRef',\n                tabindex: active ? '0' : '-1',\n                onFocus: this.handleEndFocus\n            })\n        ]);\n    }\n});\n"],
  "mappings": "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",
  "names": []
}
